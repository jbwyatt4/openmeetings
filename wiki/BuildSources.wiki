#summary How To Build From Sources
#labels Featured,Phase-Implementation

  * [http://code.google.com/p/openmeetings/source/browse browse SVN source]
  * [http://code.google.com/p/openmeetings/source/list SVN change history]

= Source Locations Developer Version =

You need to compile two apps:
  * Client - build with !OpenLaszlo
  * Webapp - Java-Webapp
  you need both! and you should use the same revision number (SVN Revision number) !


= Openlaszlo Client (Client-Side) =

SVN URL: http://openmeetings.googlecode.com/svn/trunk/openmeetings_lps411/

Browse in Code with Browser: http://code.google.com/p/openmeetings/source/browse/trunk/client/

for compiling the client you need to install the !OpenLaszlo-Server:
http://www.openlaszlo.org

Step-By-Step:
  * Download and Install !OpenLaszlo 4.1.1 (Version > 4.1.1 is needed!)
  * create a directory *openmeetings* into your !OpenLaszlo-WebRoot directory ($LPS-HOME/Server/lps-4.1.1/) ... on Windows your Path if you're using the default one's will look like C:/Program Files/Openlaszlo Server 
  * Checkout from the SVN using http://openmeetings.googlecode.com/svn/trunk/client/ as root of your Project ($CLIENT_SOURCE_ROOT) into the directory *openmeetings* you have created
  * alter the config.xml in ($LPS-HOME/Server/lps-4.1.1/openmeetings/)config.xml (for example C:/Program Files/Openlaszlo Server 4.1.1/Server/lps-4.1.1/openmeetings/config.xml) ... _rtmphostlocal_ should match the IP/domain of your red5-streaming server (if its on the same IP like your Openlaszlo-Server you can leave it blank)
  * Start OpenLaszlo Server and run (lps-4.1.1 = lps-4.1.1 if this is your !Openlaszlo version: http://localhost($LPS-HOST):8080/lps-4.1.1/videoconference/maindebug.lzx?lzr=swf8&lzproxied=solo  (with debugger) and /or http://localhost($LPS-HOST):8080/lps-4.1.1/videoconference/main.lzx?lzr=swf8&lzproxied=solo

= Java Webapp (Server-Side) =

  * We use JDK5 + latest red5 from trunk (red5-0.8.x) for the current source in the SVN

  * Install red5 >= 0.8.0 from the snapshot dir of red5: http://red5.googlecode.com, you maybe will need to compile red5 from Source too!
  * Install it
  * there is an error in red5's configuration of Log-Files, so you need to add the following line's into the global logback.xml of $RED5_HOME/conf/logback.xml:

  {{{
  <logger name="org.apache.axis2">
    <level value="ERROR"/>
  </logger>
  <logger name="com.mchange.v2">
    <level value="ERROR"/>
  </logger>
  <logger name="org.hibernate.cache">
    <level value="ERROR"/>
  </logger>
  <logger name="org.apache.axiom">
    <level value="ERROR"/>
  </logger>
  <logger name="org.hibernate.jdbc">
    <level value="ERROR"/>
  </logger>
  <logger name="org.hibernate.SQL">
    <level value="ERROR"/>
  </logger>
  <logger name="org.apache.commons.httpclient">
    <level value="ERROR"/>
  </logger>
  <logger name="org.hibernate.tool.hbm2ddl">
    <level value="ERROR"/>
  </logger>
  <logger name="org.hibernate">
    <level value="ERROR"/>
  </logger>
  <logger name="de.hunsicker.jalopy.io">
    <level value="ERROR"/>
  </logger>
  <logger name="org.apache.axis2.enterprise">
    <level value="ERROR"/>
  </logger>
  <logger name="httpclient.wire.header">
    <level value="ERROR"/>
  </logger>
  }}}
  or replace with this one: http://openmeetings.googlecode.com/svn/trunk/patches/logback.xml

  * Download (SVN - Checkout) from:
http://openmeetings.googlecode.com/svn/trunk/webapp/
  * change dir your local copy
  * Run: ant dist (JAVA_HOME must be set and point to a JDK = 1.5 and you need ant version = 1.7)
  * there is now a directory dist, inside of that directory there is a compiled openmeetings-webapp with the name *openmeetings*
  * use the compiled openmeetings-webapp and copy it to $RED5_HOME/webapps
  * do the usual install process of openmeetings

Additional Notes:
  # there are some Issues with Logging and Exceptions in Red5, we try to fix them. For the moment you can ignore them
  # You have to copy the Laszlo-Client from the Step-By-Step scenario into it to make a complete Binary, but you can also run it from inside OpenLaszlo Server. You only need to place a *crossdomain.xml* into $RED5_HOME/webapps/root, otherwise the Flash-Security-Sandbox will not allow Up- or Downloads.
  # If you want to keep the previous installation and only change some Java code but no Database structure it is enough if you just copy/overwrite the folder *WEB-INF* and restart red5.

== Small howto to deploy/run the Sources == 
Comment by kunthar,  Today (20 minutes ago) 10.01.2008

Notes on building sources;

If you see error fields on login form it means you didnt run Install yet and necessary fields in Db is NOT yet populated.

Basic steps; After checkout fresh copy from svn repo (windows users look for tortoise svn, linux users already knows what to do, hehe), 
  # set JAVA_HOME to jdk 1.5/1.6 or greater,
  # run ant dist at where build.xml located, 
  # copy openmeetings dir which is inside of dist to red5 server webapps dir, 
  # change config.xml and install/hibernate.cfg.xml to wanted db connection, (dont forget to run mysql or any db at this moment) 
  # copy main.lzx.lzr=swf8.swf and maindebug.lzx.lzr=swf8.swf to red5 webapps dir, 
  # run http://localhost:5080/openmeetings/Install (not install case sensitive) 
  # watch populated fields from red5 console, it takes a time, grab o coffee :) 
  # Finally run http://localhost:5080/openmeetings All paths relative, be careful.

Final note: Every little change effects immediately when you refresh browser window while you work with Laszlo. And comment is <!-- --> lines Hope it helps some one, Happy coding


= Links =
BuildSources
 
== how to use Google Code Repository ==
Command-Line Access

If you plan to make changes, use this command to check out the code as yourself using HTTPS:

# Project members authenticate over HTTPS to allow committing changes.
svn checkout https://openmeetings.googlecode.com/svn/trunk/ xmlcrm --username $!Your_Google_Account

When prompted, enter your generated googlecode.com password.

Use this command to anonymously check out the latest project source code:

# Non-members may check out a read-only working copy anonymously over HTTP.
svn checkout http://openmeetings.googlecode.com/svn/trunk/ openmeetings-read-only
GUI and IDE Access

This project's Subversion repository may be accessed using many different client programs and plug-ins. See your client's documentation for more information.